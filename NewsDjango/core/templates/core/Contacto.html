{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Allan-Qaeda News</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="{% static 'css/style.css'%}">
	<link rel="website icon" type="png"
	href="{% static 'img/logo bomba.png' %}">
</head>
<body>
    <!-- Primera barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <img src="{% static 'img/logo bomba.png' %}" style="height: 5%; width: 5%;">
      <a class="navbar-brand" style="margin-left: 15px;" href={% url 'Inicio'%}>Allan-Qaeda news</a>
      <div class="navbar-nav ml-auto">
        {% if user.is_authenticated %}
              <p class="nav-link text-light mb-0">Bienvenido {{ user.username }}</p>
              <a class="nav-link" href="{% url 'logout' %}">Logout</a>
          {% else %}
              <a class="nav-link" href="{% url 'Login' %}">Login</a>
          {% endif %}
      </div>
    </nav>
	</nav>
	<div class="navbar-divider d-none d-lg-block"></div>
	<!-- Segunda barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" id="inicioLink" href={% url 'Inicio'%}>Inicio</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
	  
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
		  <ul class="navbar-nav mr-auto">
			<li class="nav-item">
			  <a class="nav-link" href={% url 'Deportes'%}>Deportes</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href={% url 'Musica'%}>Musica</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href={% url 'Chile'%}>Chile</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href={% url 'Mundo'%}>Mundo</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href={% url 'Salud'%}>Salud</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href={% url 'Contacto'%}>Contacto</a>
			  </li>
			<li class="nav-item dropdown">
			  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				Ayuda
			  </a>
			  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
				<a class="dropdown-item" href="#">Preguntas Frecuentes</a>
				<a class="dropdown-item" href="#">Trabaja Con Nosotros</a>
				<!--<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="#">Something else here</a>-->
			  </div>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href={% url 'nuevanoticia'%}>Agregar noticia</a>
			</li>
		  </ul>
		  <form class="form-inline my-2 my-lg-0" onsubmit="validateForm(event)">
			<input class="form-control mr-sm-2" type="search" placeholder="Buscar" aria-label="Search" id="searchInput" data-toggle="tooltip" data-placement="bottom" title="">
			<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Buscar</button>
		  </form>
		</div>
	  </nav>


    <!-- Espacio entre carrusel y sección de imagen y texto -->
    <div style="margin-top: 20px;"></div>

    <div style="text-align: center;">

        <h1>Déjanos tu mensaje</h1>
        <h3>Te contactaremos a la brevedad</h3>

    </div>
    <div style="margin-top: 20px;"></div>
    <div class="container">
        <div class="row">
            <div class="col-md-2" style="text-align: center;">
            </div>
            <div class="col-md-2" style="text-align: center;"></div>
            <form style="width: 26rem;align-items: center;" id="contactForm" onsubmit="return validateForm()">
                
				<!-- Name-->
			<div data-mdb-input-init class="form-outline mb-4">
				<!-- Nombre -->
      <form id="contacto">
          <div class="form-group">
          <label for="form4Example1">Nombre</label>
          <input type="text" class="form-control" id="form4Example1" name="nombre" minlength="2" maxlength="25" required>
          <span id="nameError" style="color: red;"></span>
        </div>
  
        <!-- Correo Electrónico -->
        <div class="form-group">
          <label for="correo">Correo</label>
          <input type="email" placeholder="usuario@gmail.com" id="correo" name="correo"
                 class="form-control" data-parsley-type="email" required>
          <span id="msgerror" style="color: red;"></span>
        </div>
  
        <!-- Mensaje -->
        <div class="form-group">
            <label for="form4Example3">Mensaje</label>
            <textarea class="form-control" id="form4Example3" name="mensaje" rows="4" minlength="5" required></textarea>
            <span id="messageError" style="color: red;"></span>
        </div>
  
        <!-- Checkbox -->
        <div class="form-check mb-4">
            <input class="form-check-input" type="checkbox" id="form4Example4" checked>
            <label class="form-check-label" for="form4Example4">
                Envíame una copia
            </label>
        </div>
  
        <!-- Botón de Enviar -->
        <button type="submit" class="btn btn-primary">Enviar</button>
          </div>
        </div>
      </form>

          <!-- Espacio entre sección de imagen y texto -->
          <div style="margin-top: 50px;"></div>

        <!-- pie de pagina -->
        <div class="container">
            <div class="row">
                <div class="col-md-12" style="text-align: center;">
                    <div class="noticia deportes">
                        <p>Direccion: Domingo tocornal 1341, Puente Alto.
                            Telefono: +560 9898 7676<br>
                            Todos los derechos Reservados 2024(C)
                        </p>
                    </div>
                </div>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/parsleyjs@2.9.2/dist/parsley.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script>
          // Inicialización de Parsley en el formulario
          $(document).ready(function() {
            $('#contacto').parsley();
          });
        </script>
        <script>
            // Obtener la URL actual
            var url = window.location.href;

            // Obtener el enlace de inicio
            var inicioLink = document.getElementById('inicioLink');

            // Verificar si la URL actual coincide con la página de inicio
            if (url.includes('Contacto.html')) {
                // Si coincide, agregar la clase de fondo rojo al enlace de inicio
                inicioLink.classList.add('red-background');
            }
		</script>
		
    <script>
      // Función para validar el formulario
      function validateForm() {
          // Obtener los valores de los campos
          const name = document.getElementById('form4Example1').value.trim();
          const message = document.getElementById('form4Example3').value.trim();
  
          // Obtener los elementos de error
          const nameError = document.getElementById('nameError');
          const messageError = document.getElementById('messageError');
  
          // Limpiar mensajes de error
          nameError.textContent = '';
          messageError.textContent = '';
  
          let isValid = true;
  
          // Validar el nombre
          if (name === '') {
              nameError.textContent = 'Por favor, ingrese su nombre.';
              isValid = false;
          } else if (name.length < 2 || name.length > 25) {
              nameError.textContent = 'El nombre debe tener entre 2 y 25 caracteres.';
              isValid = false;
          }

          // Validar el mensaje mínimo de 5 caracteres
          if (message === '' || message.length < 5) {
              messageError.textContent = 'El mensaje debe tener al menos 5 caracteres.';
              isValid = false;
          }
  
          // Si el formulario no es válido, evitar el envío
          return isValid;
      }
  </script>
<script>
    function validateForm(event) {
      const searchInput = document.getElementById('searchInput');

      if (searchInput.value.trim() === '') {
        event.preventDefault(); // Previene el envío del formulario
        $(searchInput).tooltip('dispose').attr('title', 'El campo de búsqueda no puede estar vacío.').tooltip('show');
      } else {
        $(searchInput).tooltip('dispose');
      }
    }

    // Inicializa el tooltip
    $(document).ready(function(){
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>
</body>

</html>
