{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Allan-Qaeda News</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="{% static 'css/style.css'%}">
	<link rel="website icon" type="png"
	href="{% static 'img/logo bomba.png' %}">
	<!-- Cargar jQuery y Parsley.js desde CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.9.2/parsley.min.js"></script>
</head>
<body>
    <!-- Primera barra de navegación -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<img src="{% static 'img/logo bomba.png' %}" style="height: 5%; width: 5%;">
		<a class="navbar-brand" style="margin-left: 15px;" href={% url 'Inicio'%}>Allan-Qaeda news</a>
		<div class="navbar-nav ml-auto">
			<a class="nav-link" href={% url 'Login'%}>Login</a>
		</div>
	</nav>
	<div class="navbar-divider d-none d-lg-block"></div>
	<!-- Segunda barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" id="inicioLink" href={% url 'Inicio'%}>Inicio</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
	  
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
		  <ul class="navbar-nav mr-auto">
			<li class="nav-item">
			  <a class="nav-link" href={% url 'Deportes'%}>Deportes</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href={% url 'Musica'%}>Musica</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href={% url 'Chile'%}>Chile</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href={% url 'Mundo'%}>Mundo</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href={% url 'Salud'%}>Salud</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href={% url 'Contacto'%}>Contacto</a>
			  </li>
			<li class="nav-item dropdown">
			  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				Ayuda
			  </a>
			  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
				<a class="dropdown-item" href="#">Preguntas Frecuentes</a>
				<a class="dropdown-item" href="#">Trabaja Con Nosotros</a>
				<!--<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="#">Something else here</a>-->
			  </div>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href={% url 'nuevanoticia'%}>Agregar noticia</a>
			</li>
		  </ul>
		  <form class="form-inline my-2 my-lg-0" onsubmit="validateForm(event)">
			<input class="form-control mr-sm-2" type="search" placeholder="Buscar" aria-label="Search" id="searchInput" data-toggle="tooltip" data-placement="bottom" title="">
			<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Buscar</button>
		  </form>
		</div>
	  </nav>

	<!-- Espacio texto -->
	<div style="margin-top: 20px;"></div>
	<div style="text-align: center;">
		<h1>Ingreso usuarios</h1>
    </div>
    <div style="margin-top: 10px;"></div>
	<div class="container">
			<div class="row">
			<div class="col-md-3" style="text-align: center;">
			</div>
			<div class="col-md-6" style="text-align: center;">
						<div class="col-md-12">
				<form method="POST" action="Login" id="usuarioForm" style="width: 26rem; align-items: center;" enctype="multipart/form-data">
						{% csrf_token %}
							<div class="form-group">
								<label for="user" style="margin-right: 95%;">Usuario</label>
								<input type="text" placeholder="usuario" id="user" name="username" class="form-control" data-parsley-length="[5, 25]" required>
								<span id="msgerror" style="color: red;"></span>
							</div>
						</div>
						<div class="col-md-12">
							<div class="form-group">
								<label for="contraseña" style="margin-right: 95%;">Contraseña</label>
								<input type="password" placeholder="debe contener al menos una mayúscula y una minúscula" id="contraseña" name="password" class="form-control" data-parsley-length="[8, 10]" data-parsley-pattern="(?=.*[a-z])(?=.*[A-Z]).{8,10}" required>
								<span id="mensaje-contraseña" style="color: red;"></span>
							</div>
						</div>
					</div>
					<div class="row mb-4">
                        <div class="col d-flex justify-content-center">
                            <!-- Checkbox -->
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="recuerdame" checked />
                                <label class="form-check-label" for="recuerdame"> Recuérdame </label>
                            </div>
                        </div>
						<div class="col">
                            <!-- Simple link -->
                            <a href="#!">¿Olvido su contraseña?</a>
                        </div>
						
					<button type="submit" class="btn btn-primary btn-block mb-2 mt-4">Ingresar</button>
					<button type="button" class="btn btn-primary btn-block mb-4" onclick="window.location.href='{% url 'formulario' %}'">
						Crear cuenta
					</button>
				</form>
            </div>
            <div class="col-md-2" style="text-align: center;"></div>
        	</div>
		<!-- Espacio entre sección de imagen y texto -->
		<div style="margin-top: 50px;"></div>

		<!-- pie de pagina -->
		<div class="container">
			<div class="row">
				<div class="col-md-12" style="text-align: center;">
					<div class="noticia deportes">
						<p>Direccion: Domingo tocornal 1341, Puente Alto.
							Telefono: +560 9898 7676<br>
							Todos los derechos Reservados 2024(C)
						</p>
					</div>
				</div>
			</div>
		</div>

			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
			<script>
				// Obtener la URL actual
				var url = window.location.href;

				// Obtener el enlace de inicio
				var inicioLink = document.getElementById('inicioLink');

				// Verificar si la URL actual coincide con la página de inicio
				if (url.includes('Login.html')) {
					// Si coincide, agregar la clase de fondo rojo al enlace de inicio
					inicioLink.classList.add('red-background');
				}
			</script>
			<script>
				function redirectToForm() {
					window.location.href = "formulario.html";
				}
			</script>
			<script>
				function validateForm(event) {
				  const searchInput = document.getElementById('searchInput');
			
				  if (searchInput.value.trim() === '') {
					event.preventDefault(); // Previene el envío del formulario
					$(searchInput).tooltip('dispose').attr('title', 'El campo de búsqueda no puede estar vacío.').tooltip('show');
				  } else {
					$(searchInput).tooltip('dispose');
				  }
				}
			
				// Inicializa el tooltip
				$(document).ready(function(){
					$('[data-toggle="tooltip"]').tooltip();
				});
			</script>
			<script>
				document.getElementById("contraseña").addEventListener("input", function () {
					var contraseña = document.getElementById("contraseña").value;
					var mensaje = document.getElementById("mensaje-contraseña");
					var hasUppercase = /[A-Z]/.test(contraseña);
					var hasLowercase = /[a-z]/.test(contraseña);
			
					if (contraseña.length < 8) {
						mensaje.textContent = "La contraseña debe tener al menos 8 caracteres.";
					} else if (!hasUppercase) {
						mensaje.textContent = "La contraseña debe contener al menos una letra mayúscula.";
					} else if (!hasLowercase) {
						mensaje.textContent = "La contraseña debe contener al menos una letra minúscula.";
					} else {
						mensaje.textContent = "";
					}
				});
			</script>
	</body>
</html>